


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > GradeService</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">services</a>
</div>

<h1>Coverage Summary for Class: GradeService (services)</h1>

<table class="coverageStats">
<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Class, %
</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">GradeService</td>
<td class="coverageStat">
  <span class="percent">
    100%
  </span>
  <span class="absValue">
    (1/1)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    54.5%
  </span>
  <span class="absValue">
    (6/11)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    12%
  </span>
  <span class="absValue">
    (12/100)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    12.7%
  </span>
  <span class="absValue">
    (24/189)
  </span>
</td>
</tr>

</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package services;
&nbsp;
&nbsp;import java.io.*;
&nbsp;import java.util.Date;
&nbsp;import models.Grade;
&nbsp;import models.Student;
&nbsp;import models.HonorsStudent;
&nbsp;import java.text.SimpleDateFormat;
&nbsp;import java.util.ArrayList;
&nbsp;import java.util.List;
&nbsp;import models.Subject;
&nbsp;import exceptions.*;
&nbsp;
&nbsp;/**
&nbsp; * Service class for managing grades, including recording, reporting, exporting, and importing grades.
&nbsp; */
&nbsp;public class GradeService {
&nbsp;    private final Grade[] grades;
&nbsp;    private int gradeCount;
&nbsp;
&nbsp;    /**
&nbsp;     * Constructs a GradeService with a specified maximum number of grades.
&nbsp;     * @param maxGrades Maximum number of grades that can be stored.
&nbsp;     */
<b class="fc">&nbsp;    public GradeService(int maxGrades) {</b>
<b class="fc">&nbsp;        grades = new Grade[maxGrades];</b>
<b class="fc">&nbsp;        gradeCount = 0;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Records a new grade in the system.
&nbsp;     * @param grade Grade object to record.
&nbsp;     * @return true if the grade was recorded successfully.
&nbsp;     * @throws AppExceptions if the grade database is full.
&nbsp;     */
&nbsp;    public boolean recordGrade(Grade grade) {
<b class="fc">&nbsp;        if (gradeCount &gt;= grades.length) {</b>
<b class="fc">&nbsp;            throw new AppExceptions(&quot;Grade database full!&quot;);</b>
&nbsp;        }
<b class="fc">&nbsp;        grades[gradeCount++] = grade;</b>
<b class="fc">&nbsp;        return true;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns the array of all grades.
&nbsp;     */
&nbsp;    public Grade[] getGrades() {
<b class="fc">&nbsp;        return grades;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Returns the current count of recorded grades.
&nbsp;     */
&nbsp;    public int getGradeCount() {
<b class="fc">&nbsp;        return gradeCount;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Sets the grade count.
&nbsp;     * @param count New grade count.
&nbsp;     */
&nbsp;    public void setGradeCount(int count) {
<b class="nc">&nbsp;        this.gradeCount = count;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Displays a detailed grade report for a given student.
&nbsp;     * @param student Student whose grades are to be reported.
&nbsp;     */
&nbsp;    public void viewGradeReport(Student student) {
<b class="nc">&nbsp;        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);</b>
&nbsp;
<b class="nc">&nbsp;        System.out.printf(&quot;Student: %s - %s%n&quot;, student.getStudentID(), student.getName());</b>
<b class="nc">&nbsp;        System.out.printf(&quot;Type: %s%n&quot;, (student instanceof HonorsStudent) ? &quot;Honors Student&quot; : &quot;Regular Student&quot;);</b>
&nbsp;
&nbsp;        // Collect grades for this student from the central grades array
<b class="nc">&nbsp;        List&lt;Grade&gt; studentGrades = new ArrayList&lt;&gt;();</b>
<b class="nc">&nbsp;        for (int i = 0; i &lt; gradeCount; i++) {</b>
<b class="nc">&nbsp;            Grade g = grades[i];</b>
<b class="nc">&nbsp;            if (g != null &amp;&amp; g.getStudentID().equalsIgnoreCase(student.getStudentID())) {</b>
<b class="nc">&nbsp;                studentGrades.add(g);</b>
&nbsp;            }
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        if (studentGrades.isEmpty()) {</b>
<b class="nc">&nbsp;            System.out.printf(&quot;Passing Grade: %d%%%n&quot;, student.getPassingGrade());</b>
<b class="nc">&nbsp;            System.out.println(&quot;No grades recorded for this student.&quot;);</b>
&nbsp;        } else {
<b class="nc">&nbsp;            double total = 0.0;</b>
<b class="nc">&nbsp;            int count = 0;</b>
<b class="nc">&nbsp;            double coreTotal = 0;</b>
<b class="nc">&nbsp;            int coreCount = 0;</b>
<b class="nc">&nbsp;            double electiveTotal = 0;</b>
<b class="nc">&nbsp;            int electiveCount = 0;</b>
&nbsp;
<b class="nc">&nbsp;            System.out.println(&quot;GRADE HISTORY&quot;);</b>
<b class="nc">&nbsp;            System.out.println(&quot;_________________________________________________________________________&quot;);</b>
<b class="nc">&nbsp;            System.out.println(&quot;| GRD ID   | DATE        | SUBJECT         | TYPE            | GRADE    |&quot;);</b>
<b class="nc">&nbsp;            System.out.println(&quot;|________________________________________________________________________|&quot;);</b>
&nbsp;
&nbsp;            // Print each grade and accumulate statistics
<b class="nc">&nbsp;            for (Grade gr : studentGrades) {</b>
<b class="nc">&nbsp;                System.out.printf(&quot;| %-8s | %-10s | %-15s | %-15s | %-8.1f |%n&quot;,</b>
<b class="nc">&nbsp;                        gr.getGradeID(),</b>
<b class="nc">&nbsp;                        sdf.format(gr.getDate()),</b>
<b class="nc">&nbsp;                        gr.getSubjectName(),</b>
<b class="nc">&nbsp;                        gr.getSubjectType(),</b>
<b class="nc">&nbsp;                        gr.getValue());</b>
<b class="nc">&nbsp;                total += gr.getValue();</b>
<b class="nc">&nbsp;                count++;</b>
&nbsp;
<b class="nc">&nbsp;                if (&quot;Core Subject&quot;.equals(gr.getSubjectType())) {</b>
<b class="nc">&nbsp;                    coreTotal += gr.getValue();</b>
<b class="nc">&nbsp;                    coreCount++;</b>
&nbsp;                } else {
<b class="nc">&nbsp;                    electiveTotal += gr.getValue();</b>
<b class="nc">&nbsp;                    electiveCount++;</b>
&nbsp;                }
&nbsp;            }
<b class="nc">&nbsp;            System.out.println(&quot;|________________________________________________________________________|&quot;);</b>
&nbsp;
<b class="nc">&nbsp;            double average = (count &gt; 0) ? (total / count) : 0.0;</b>
<b class="nc">&nbsp;            System.out.printf(&quot;%nCurrent Average: %.1f%%%n&quot;, average);</b>
<b class="nc">&nbsp;            System.out.printf(&quot;Status: %s%n&quot;, (student.isPassing(this) ? &quot;PASSING&quot; : &quot;FAILING&quot;));</b>
&nbsp;
<b class="nc">&nbsp;            System.out.println(&quot;\nTotal Grades: &quot; + count);</b>
<b class="nc">&nbsp;            if (coreCount &gt; 0) {</b>
<b class="nc">&nbsp;                System.out.printf(&quot;Core Subjects Average: %.1f%%%n&quot;, (coreTotal / coreCount));</b>
&nbsp;            }
<b class="nc">&nbsp;            if (electiveCount &gt; 0) {</b>
<b class="nc">&nbsp;                System.out.printf(&quot;Elective Subjects Average: %.1f%%%n&quot;, (electiveTotal / electiveCount));</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            System.out.println(&quot;\nPerformance Summary:&quot;);</b>
<b class="nc">&nbsp;            if (student.isPassing(this)) {</b>
<b class="nc">&nbsp;                System.out.println(&quot;Passing all Core subjects&quot;);</b>
<b class="nc">&nbsp;                System.out.printf(&quot;Meeting passing grade requirement (%d%%)%n&quot;, student.getPassingGrade());</b>
&nbsp;            }
&nbsp;
<b class="nc">&nbsp;            System.out.printf(&quot;%s - %s%n&quot;,</b>
<b class="nc">&nbsp;                    (student instanceof HonorsStudent) ? &quot;Honors Student&quot; : &quot;Regular Student&quot;,</b>
<b class="nc">&nbsp;                    (student instanceof HonorsStudent ?</b>
<b class="nc">&nbsp;                            &quot;higher standards (passing grade: 60%, eligible for honors recognition)&quot; :</b>
<b class="nc">&nbsp;                            &quot;standard grading (passing grade: 50%)&quot;));</b>
&nbsp;        }
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Counts the number of grades recorded for a specific student.
&nbsp;     * @param student Student whose grades are to be counted.
&nbsp;     * @return Number of grades for the student.
&nbsp;     */
&nbsp;    public int countGradesForStudent(Student student) {
<b class="nc">&nbsp;        int count = 0;</b>
<b class="nc">&nbsp;        for (int i = 0; i &lt; gradeCount; i++) {</b>
<b class="nc">&nbsp;            Grade g = grades[i];</b>
<b class="nc">&nbsp;            if (g != null &amp;&amp; g.getStudentID().equalsIgnoreCase(student.getStudentID())) {</b>
<b class="nc">&nbsp;                count++;</b>
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;        return count;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Exports a student&#39;s grade report to a text file.
&nbsp;     * @param student Student whose report is to be exported.
&nbsp;     * @param option 1 for summary, 2 for detailed, 3 for both.
&nbsp;     * @param filename Name of the output file (without extension).
&nbsp;     * @return Path to the exported file.
&nbsp;     * @throws IOException If file writing fails.
&nbsp;     */
&nbsp;    public String exportGradeReport(Student student, int option, String filename) throws IOException {
&nbsp;        // Ensure reports directory exists
<b class="nc">&nbsp;        File reportsDir = new File(&quot;./reports&quot;);</b>
<b class="nc">&nbsp;        if (!reportsDir.exists()) {</b>
<b class="nc">&nbsp;            reportsDir.mkdir();</b>
&nbsp;        }
<b class="nc">&nbsp;        String filePath = &quot;./reports/&quot; + filename + &quot;.txt&quot;;</b>
<b class="nc">&nbsp;        try (BufferedWriter writer = new BufferedWriter(new FileWriter(filePath))) {</b>
&nbsp;            // Write summary if requested
<b class="nc">&nbsp;            if (option == 1 || option == 3) {</b>
<b class="nc">&nbsp;                writer.write(&quot;GRADE REPORT SUMMARY\n&quot;);</b>
<b class="nc">&nbsp;                writer.write(&quot;====================\n&quot;);</b>
<b class="nc">&nbsp;                writer.write(&quot;Student: &quot; + student.getStudentID() + &quot; - &quot; + student.getName() + &quot;\n&quot;);</b>
<b class="nc">&nbsp;                writer.write(&quot;Type: &quot; + ((student instanceof models.HonorsStudent) ? &quot;Honors Student&quot; : &quot;Regular Student&quot;) + &quot;\n&quot;);</b>
<b class="nc">&nbsp;                writer.write(&quot;Total Grades: &quot; + countGradesForStudent(student) + &quot;\n&quot;);</b>
<b class="nc">&nbsp;                writer.write(&quot;Average: &quot; + String.format(&quot;%.1f&quot;, student.calculateAverage(this)) + &quot;%\n&quot;);</b>
<b class="nc">&nbsp;                writer.write(&quot;Status: &quot; + (student.isPassing(this) ? &quot;PASSING&quot; : &quot;FAILING&quot;) + &quot;\n&quot;);</b>
<b class="nc">&nbsp;                writer.write(&quot;\n&quot;);</b>
&nbsp;            }
&nbsp;            // Write detailed report if requested
<b class="nc">&nbsp;            if (option == 2 || option == 3) {</b>
<b class="nc">&nbsp;                writer.write(&quot;GRADE HISTORY\n&quot;);</b>
<b class="nc">&nbsp;                writer.write(&quot;=============\n&quot;);</b>
<b class="nc">&nbsp;                writer.write(String.format(&quot;%-8s %-12s %-15s %-15s %-8s\n&quot;, &quot;GRD ID&quot;, &quot;DATE&quot;, &quot;SUBJECT&quot;, &quot;TYPE&quot;, &quot;GRADE&quot;));</b>
<b class="nc">&nbsp;                java.text.SimpleDateFormat sdf = new java.text.SimpleDateFormat(&quot;dd-MM-yyyy&quot;);</b>
<b class="nc">&nbsp;                for (int i = 0; i &lt; gradeCount; i++) {</b>
<b class="nc">&nbsp;                    Grade gr = grades[i];</b>
<b class="nc">&nbsp;                    if (gr != null &amp;&amp; gr.getStudentID().equalsIgnoreCase(student.getStudentID())) {</b>
<b class="nc">&nbsp;                        writer.write(String.format(&quot;%-8s %-12s %-15s %-15s %-8.1f\n&quot;,</b>
<b class="nc">&nbsp;                                gr.getGradeID(),</b>
<b class="nc">&nbsp;                                sdf.format(gr.getDate()),</b>
<b class="nc">&nbsp;                                gr.getSubjectName(),</b>
<b class="nc">&nbsp;                                gr.getSubjectType(),</b>
<b class="nc">&nbsp;                                gr.getValue()));</b>
&nbsp;                    }
&nbsp;                }
<b class="nc">&nbsp;                writer.write(&quot;\n&quot;);</b>
&nbsp;            }
&nbsp;            // Write performance summary
<b class="nc">&nbsp;            writer.write(&quot;Performance Summary:\n&quot;);</b>
<b class="nc">&nbsp;            if (student.isPassing(this)) {</b>
<b class="nc">&nbsp;                writer.write(&quot;Passing all Core subjects\n&quot;);</b>
<b class="nc">&nbsp;                writer.write(&quot;Meeting passing grade requirement (&quot; + student.getPassingGrade() + &quot;%)\n&quot;);</b>
&nbsp;            } else {
<b class="nc">&nbsp;                writer.write(&quot;Not meeting passing grade requirement (&quot; + student.getPassingGrade() + &quot;%)\n&quot;);</b>
&nbsp;            }
<b class="nc">&nbsp;            writer.write(((student instanceof models.HonorsStudent) ?</b>
<b class="nc">&nbsp;                    &quot;Honors Student - higher standards (passing grade: 60%, eligible for honors recognition)\n&quot; :</b>
<b class="nc">&nbsp;                    &quot;Regular Student - standard grading (passing grade: 50%)\n&quot;));</b>
&nbsp;        }
<b class="nc">&nbsp;        return filePath;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Bulk imports grades from a CSV file.
&nbsp;     * @param filename Name of the CSV file (without extension).
&nbsp;     * @param studentService StudentService instance for student lookup.
&nbsp;     */
&nbsp;    public void bulkImportGrades(String filename, StudentService studentService) {
&nbsp;        // Build file path for import
<b class="nc">&nbsp;        String dirPath = &quot;./imports/&quot;;</b>
<b class="nc">&nbsp;        String filePath = dirPath + filename + &quot;.csv&quot;;</b>
<b class="nc">&nbsp;        File file = new File(filePath);</b>
&nbsp;
<b class="nc">&nbsp;        if (!file.exists()) {</b>
<b class="nc">&nbsp;            System.out.println(&quot;File not found: &quot; + filePath);</b>
&nbsp;            return;
&nbsp;        }
&nbsp;
<b class="nc">&nbsp;        System.out.println(&quot;Validating file...&quot;);</b>
<b class="nc">&nbsp;        int totalRows = 0;</b>
<b class="nc">&nbsp;        int successCount = 0;</b>
<b class="nc">&nbsp;        int failCount = 0;</b>
<b class="nc">&nbsp;        List&lt;String&gt; failedRecords = new ArrayList&lt;&gt;();</b>
<b class="nc">&nbsp;        List&lt;String&gt; failReasons = new ArrayList&lt;&gt;();</b>
&nbsp;
<b class="nc">&nbsp;        try (BufferedReader br = new BufferedReader(new FileReader(file))) {</b>
&nbsp;            // Skip the header row
<b class="nc">&nbsp;            String header = br.readLine();</b>
&nbsp;
&nbsp;            String line;
<b class="nc">&nbsp;            int rowNum = 2;</b>
&nbsp;            // Read each line and process grade import
<b class="nc">&nbsp;            while ((line = br.readLine()) != null) {</b>
<b class="nc">&nbsp;                totalRows++;</b>
<b class="nc">&nbsp;                String[] parts = line.split(&quot;,&quot;);</b>
<b class="nc">&nbsp;                if (parts.length != 4) {</b>
&nbsp;                    // Handles invalid CSV format
<b class="nc">&nbsp;                    failCount++;</b>
<b class="nc">&nbsp;                    failedRecords.add(&quot;ROW &quot; + rowNum + &quot;: Invalid format&quot;);</b>
<b class="nc">&nbsp;                    rowNum++;</b>
&nbsp;                    continue;
&nbsp;                }
<b class="nc">&nbsp;                String studentId = parts[0].trim();</b>
<b class="nc">&nbsp;                String subjectName = parts[1].trim();</b>
<b class="nc">&nbsp;                String subjectType = parts[2].trim();</b>
<b class="nc">&nbsp;                String gradeStr = parts[3].trim();</b>
&nbsp;
&nbsp;                Student student;
&nbsp;                try {
&nbsp;                    // Find student by ID, throws exception if not found
<b class="nc">&nbsp;                    student = studentService.findStudentById(studentId);</b>
&nbsp;                } catch (StudentNotFoundException e) {
<b class="nc">&nbsp;                    failCount++;</b>
<b class="nc">&nbsp;                    failedRecords.add(&quot;ROW &quot; + rowNum + &quot;: &quot; + e.getMessage());</b>
<b class="nc">&nbsp;                    rowNum++;</b>
&nbsp;                    continue;
&nbsp;                }
&nbsp;
<b class="nc">&nbsp;                Subject subject = studentService.findSubjectByNameAndType(subjectName, subjectType);</b>
<b class="nc">&nbsp;                if (subject == null) {</b>
&nbsp;                    // Handles invalid subject scenario
<b class="nc">&nbsp;                    failCount++;</b>
<b class="nc">&nbsp;                    failedRecords.add(&quot;ROW &quot; + rowNum + &quot;: Invalid subject (&quot; + subjectName + &quot;, &quot; + subjectType + &quot;)&quot;);</b>
<b class="nc">&nbsp;                    rowNum++;</b>
&nbsp;                    continue;
&nbsp;                }
&nbsp;
&nbsp;                int gradeValue;
&nbsp;                try {
<b class="nc">&nbsp;                    gradeValue = Integer.parseInt(gradeStr);</b>
<b class="nc">&nbsp;                    if (gradeValue &lt; 0 || gradeValue &gt; 100) {</b>
<b class="nc">&nbsp;                        throw new InvalidGradeException(gradeValue);</b>
&nbsp;                    }
&nbsp;                } catch (Exception e) {
&nbsp;                    // Handles invalid grade value
<b class="nc">&nbsp;                    failCount++;</b>
<b class="nc">&nbsp;                    failedRecords.add(&quot;ROW &quot; + rowNum + &quot;: &quot; + e.getMessage());</b>
<b class="nc">&nbsp;                    rowNum++;</b>
&nbsp;                    continue;
&nbsp;                }
&nbsp;
&nbsp;                // Check for duplicate grade and prompt user for overwrite
<b class="nc">&nbsp;                if (isDuplicateGrade(studentId, subjectName, subjectType)) {</b>
<b class="nc">&nbsp;                    System.out.printf(&quot;ROW %d: Duplicate grade found for student %s and subject %s (%s). Overwrite with new value? [Y/N]: &quot;, rowNum, studentId, subjectName, subjectType);</b>
<b class="nc">&nbsp;                    BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));</b>
<b class="nc">&nbsp;                    String response = reader.readLine();</b>
<b class="nc">&nbsp;                    if (response.equalsIgnoreCase(&quot;Y&quot;)) {</b>
<b class="nc">&nbsp;                        updateGrade(studentId, subjectName, subjectType, gradeValue);</b>
<b class="nc">&nbsp;                        successCount++;</b>
<b class="nc">&nbsp;                        System.out.println(&quot;Grade updated with new value.&quot;);</b>
&nbsp;                    } else {
<b class="nc">&nbsp;                        failCount++;</b>
<b class="nc">&nbsp;                        failedRecords.add(&quot;ROW &quot; + rowNum + &quot;: Duplicate grade not updated.&quot;);</b>
&nbsp;                    }
&nbsp;                } else {
&nbsp;                    // Record new grade if not duplicate
<b class="nc">&nbsp;                    Grade grade = new Grade(</b>
<b class="nc">&nbsp;                            &quot;GRD0&quot; + (getGradeCount() + 1),</b>
&nbsp;                            studentId,
&nbsp;                            subjectName,
&nbsp;                            subjectType,
&nbsp;                            gradeValue,
&nbsp;                            new java.util.Date()
&nbsp;                    );
<b class="nc">&nbsp;                    recordGrade(grade);</b>
<b class="nc">&nbsp;                    successCount++;</b>
&nbsp;                }
<b class="nc">&nbsp;                rowNum++;</b>
&nbsp;            }
&nbsp;        } catch (IOException e) {
<b class="nc">&nbsp;            System.out.println(&quot;Error reading file: &quot; + e.getMessage());</b>
&nbsp;            return;
&nbsp;        }
&nbsp;
&nbsp;        // Print import summary
<b class="nc">&nbsp;        System.out.println(&quot;IMPORT SUMMARY&quot;);</b>
<b class="nc">&nbsp;        System.out.println(&quot;Total Rows: &quot; + totalRows);</b>
<b class="nc">&nbsp;        System.out.println(&quot;Successfully Imported: &quot; + successCount);</b>
<b class="nc">&nbsp;        System.out.println(&quot;Failed: &quot; + failCount);</b>
<b class="nc">&nbsp;        if (failCount &gt; 0) {</b>
<b class="nc">&nbsp;            System.out.println(&quot;Failed Records:&quot;);</b>
<b class="nc">&nbsp;            for (String fail : failedRecords) {</b>
<b class="nc">&nbsp;                System.out.println(fail);</b>
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;        System.out.println(&quot;Import completed!&quot;);</b>
<b class="nc">&nbsp;        System.out.println(successCount + &quot; grades added to system&quot;);</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Checks for duplicate grades for a student and subject.
&nbsp;     * @param studentId Student ID.
&nbsp;     * @param subjectName Subject name.
&nbsp;     * @param subjectType Subject type.
&nbsp;     * @return true if a duplicate grade exists, false otherwise.
&nbsp;     */
&nbsp;    public boolean isDuplicateGrade(String studentId, String subjectName, String subjectType) {
<b class="pc">&nbsp;        for (int i = 0; i &lt; gradeCount; i++) {</b>
<b class="fc">&nbsp;            Grade g = grades[i];</b>
<b class="pc">&nbsp;            if (g != null &amp;&amp;</b>
<b class="pc">&nbsp;                    g.getStudentID().equalsIgnoreCase(studentId) &amp;&amp;</b>
<b class="pc">&nbsp;                    g.getSubjectName().equalsIgnoreCase(subjectName) &amp;&amp;</b>
<b class="pc">&nbsp;                    g.getSubjectType().equalsIgnoreCase(subjectType)) {</b>
<b class="fc">&nbsp;                return true;</b>
&nbsp;            }
&nbsp;        }
<b class="nc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    /**
&nbsp;     * Updates the grade value for a duplicate grade entry.
&nbsp;     * @param studentId Student ID.
&nbsp;     * @param subjectName Subject name.
&nbsp;     * @param subjectType Subject type.
&nbsp;     * @param newValue New grade value to set.
&nbsp;     */
&nbsp;    public void updateGrade(String studentId, String subjectName, String subjectType, int newValue) {
<b class="pc">&nbsp;        for (int i = 0; i &lt; gradeCount; i++) {</b>
<b class="fc">&nbsp;            Grade g = grades[i];</b>
<b class="pc">&nbsp;            if (g != null &amp;&amp;</b>
<b class="pc">&nbsp;                    g.getStudentID().equalsIgnoreCase(studentId) &amp;&amp;</b>
<b class="pc">&nbsp;                    g.getSubjectName().equalsIgnoreCase(subjectName) &amp;&amp;</b>
<b class="pc">&nbsp;                    g.getSubjectType().equalsIgnoreCase(subjectType)) {</b>
<b class="fc">&nbsp;                g.setValue(newValue);</b>
<b class="fc">&nbsp;                g.setDate(new java.util.Date()); // Optionally update the date to now</b>
&nbsp;                break;
&nbsp;            }
&nbsp;        }
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2025-12-08 13:53</div>
</div>
</body>
</html>
